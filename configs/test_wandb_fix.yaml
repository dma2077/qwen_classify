# 测试WandB修复的配置文件
model:
  pretrained_name: "Qwen/Qwen2.5-VL-7B-Instruct"
  num_labels: 101

data:
  train_jsonl: "data/food101_train.jsonl"
  val_jsonl: "data/food101_val.jsonl"

training:
  num_epochs: 1
  output_dir: "./test_output"
  gradient_checkpointing: true
  num_workers: 4

# 日志配置 - 降低频率以便观察
logging_steps: 1  # 每步都记录
save_steps: 10
eval_steps: 5  # 每5步评估一次

# WandB配置
wandb:
  enabled: true
  project: "test_wandb_fix"
  run_name: "test_wandb_run"
  entity: null

# 损失函数配置
loss:
  type: "cross_entropy"

# 优化器配置
optimizer:
  type: "adamw"
  lr: 1e-5
  weight_decay: 0.01

# 学习率调度器配置
lr_scheduler:
  type: "cosine"
  warmup_steps: 10
  warmup_ratio: 0.1

# 最佳模型追踪
best_model_tracking:
  enabled: true
  metric: "overall_accuracy"
  mode: "max"
  save_best_only: true

# 评估配置
evaluation:
  partial_eval_during_training: true
  full_eval_at_end: true
  eval_best_model_only: true 